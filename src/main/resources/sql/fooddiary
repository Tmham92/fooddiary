DROP TABLE IF EXISTS user_project;
DROP TABLE IF EXISTS project;
DROP TABLE IF EXISTS product_entry;
DROP TABLE IF EXISTS user;
DROP TABLE IF EXISTS product_nutrient_nutrient;
DROP TABLE IF EXISTS product_nutrient;
DROP TABLE IF EXISTS nutrient;

CREATE TABLE IF NOT EXISTS user
(
    id        int(5) PRIMARY KEY AUTO_INCREMENT NOT NULL,
    user_code varchar(25)                       NOT NULL UNIQUE,
    password  varchar(255)                      NOT NULL,
    role      varchar(25)                       NOT NULL
);

CREATE TABLE IF NOT EXISTS project
(
    id             int(5) PRIMARY KEY AUTO_INCREMENT NOT NULL,
    name           varchar(50)                       NOT NULL,
    project_leader varchar(50)                       NOT NULL,
    creation_date  date                              NOT NULL,
    closing_date   date                              NOT NULL
);

CREATE TABLE IF NOT EXISTS user_project
(
    id         int(5) PRIMARY KEY AUTO_INCREMENT NOT NULL,
    user_id    int(5),
    project_id int(5),

    FOREIGN KEY (user_id) REFERENCES user (id),
    FOREIGN KEY (project_id) REFERENCES project (id)
);

CREATE TABLE IF NOT EXISTS product_entry
(
    id          int(10) PRIMARY KEY AUTO_INCREMENT NOT NULL,
    user_id     int(5),
    date        date                               NOT NULL,
    time_of_day datetime                           NOT NULL,
    mealtime    varchar(25)                        NOT NULL,
    description varchar(255)                       NULL,

    FOREIGN KEY (user_id) REFERENCES user (id)
);

CREATE TABLE IF NOT EXISTS product_nutrient
(
    id                     int(10) PRIMARY KEY AUTO_INCREMENT NOT NULL,
    code                    int(10)                           NOT NULL,
    group_code             int(3)                             NOT NULL,
    group_code_description varchar(255)                       NOT NULL,
    description_dutch      varchar(255)                       NOT NULL,
    description_english    varchar(255)                       NOT NULL,
    synonymous             varchar(255)                       NULL,
    measurement_unit       varchar(10)                        NOT NULL,
    measurement_quantity   int(5)                             NOT NULL,
    measurement_comment    varchar(255)                       NULL,
    enriched_with          varchar(255)                       NULL,
    traces_of              varchar(255)                       NULL
);

CREATE TABLE IF NOT EXISTS nutrient
(
    id               int(5) PRIMARY KEY AUTO_INCREMENT NOT NULL,
    code             varchar(25)                       NOT NULL,
    name_dutch       varchar(50)                       NOT NULL,
    name_english     varchar(50)                       NOT NULL,
    measurement_unit varchar(10)                       NOT NULL
);

CREATE TABLE IF NOT EXISTS product_nutrient_nutrient
(
    id                  int(5) PRIMARY KEY AUTO_INCREMENT NOT NULL,
    product_nutrient_id int(10),
    nutrient_id         int(5),
    ENERCJ_kJ           smallint                          null,
    ENERCC_kcal         smallint                          null,
    PROT_g              smallint                          null,
    PROTPL_g            smallint                          null,
    PROTAN_g            smallint                          null,
    NT_g                smallint                          null,
    CHO_g               smallint                          null,
    SUGAR_g             smallint                          null,
    STARCH_g            smallint                          null,
    POLYL_g             smallint                          null,
    FIBT_g              smallint                          null,
    ALC_g               smallint                          null,
    WATER_g             smallint                          null,
    OA_g                smallint                          null,
    FAT_g               smallint                          null,
    FACID_g             smallint                          null,
    FASAT_g             smallint                          null,
    FAMSCIS_g           smallint                          null,
    FAPU_g              smallint                          null,
    FAPUN3_g            smallint                          null,
    FAPUN6_g            smallint                          null,
    FATRS_g             smallint                          null,
    F4_0_g              smallint                          null,
    F6_0_g              smallint                          null,
    F8_0_g              smallint                          null,
    F10_0_g             smallint                          null,
    F11_0_g             smallint                          null,
    F12_0_g             smallint                          null,
    F13_0_g             smallint                          null,
    F14_0_g             smallint                          null,
    F15_0_g             smallint                          null,
    F16_0_g             smallint                          null,
    F17_0_g             smallint                          null,
    F18_0_g             smallint                          null,
    F19_0_g             smallint                          null,
    F20_0_g             smallint                          null,
    F21_0_g             smallint                          null,
    F22_0_g             smallint                          null,
    F23_0_g             smallint                          null,
    F24_0_g             smallint                          null,
    F25_0_g             smallint                          null,
    F26_0_g             smallint                          null,
    FASATXR_g           smallint                          null,
    F10_1CIS_g          smallint                          null,
    F12_1CIS_g          smallint                          null,
    F14_1CIS_g          smallint                          null,
    F16_1CIS_g          smallint                          null,
    F18_1CIS_g          smallint                          null,
    F20_1CIS_g          smallint                          null,
    F22_1CIS_g          smallint                          null,
    F24_1CIS_g          smallint                          null,
    FAMSCXR_g           smallint                          null,
    F18_2CN6_g          smallint                          null,
    F18_2CN9_g          smallint                          null,
    F18_2CT_g           smallint                          null,
    F18_2TC_g           smallint                          null,
    F18_2R_g            smallint                          null,
    F18_3CN3_g          smallint                          null,
    F18_3CN6_g          smallint                          null,
    F18_4CN3_g          smallint                          null,
    F20_2CN6_g          smallint                          null,
    F20_3CN9_g          smallint                          null,
    F20_3CN6_g          smallint                          null,
    F20_3CN3_g          smallint                          null,
    F20_4CN6_g          smallint                          null,
    F20_4CN3_g          smallint                          null,
    F20_5CN3_g          smallint                          null,
    F21_5CN3_g          smallint                          null,
    F22_2CN6_g          smallint                          null,
    F22_2CN3_g          smallint                          null,
    F22_3CN3_g          smallint                          null,
    F22_4CN6_g          smallint                          null,
    F22_5CN6_g          smallint                          null,
    F22_5CN3_g          smallint                          null,
    F22_6CN3_g          smallint                          null,
    F24_2CN6_g          smallint                          null,
    FAPUXR_g            smallint                          null,
    F10_1TRS_g          smallint                          null,
    F12_1TRS_g          smallint                          null,
    F14_1TRS_g          smallint                          null,
    F16_1TRS_g          smallint                          null,
    F18_1TRS_g          smallint                          null,
    F18_2TTN6_g         smallint                          null,
    F18_3TTTN3_g        smallint                          null,
    F20_1TRS_g          smallint                          null,
    F20_2TT_g           smallint                          null,
    F22_1TRS_g          smallint                          null,
    F24_1TRS_g          smallint                          null,
    FAMSTXR_g           smallint                          null,
    FAUN_g              smallint                          null,
    CHORL_mg            smallint                          null,
    NA_mg               smallint                          null,
    K_mg                smallint                          null,
    CA_mg               smallint                          null,
    P_mg                smallint                          null,
    MG_mg               smallint                          null,
    FE_mg               smallint                          null,
    HAEM_mg             smallint                          null,
    NHAEM_mg            smallint                          null,
    CU_mg               smallint                          null,
    SE_mug              smallint                          null,
    ZN_mg               smallint                          null,
    ID_mug              smallint                          null,
    ASH_g               smallint                          null,
    VITA_RAE_mug        smallint                          null,
    VITA_RE_mug         smallint                          null,
    RETOL_mug           smallint                          null,
    CARTBTOT_mug        smallint                          null,
    CARTA_mug           smallint                          null,
    LUTN_mug            smallint                          null,
    ZEA_mug             smallint                          null,
    CRYPXB_mug          smallint                          null,
    LYCPN_mug           smallint                          null,
    VITD_mug            smallint                          null,
    CHOCALOH_mug        smallint                          null,
    CHOCAL_mug          smallint                          null,
    VITE_mg             smallint                          null,
    TOCPHA_mg           smallint                          null,
    TOCPHB_mg           smallint                          null,
    TOCPHG_mg           smallint                          null,
    TOCPHD_mg           smallint                          null,
    VITK_mug            smallint                          null,
    VITK1_mug           smallint                          null,
    VITK2_mug           smallint                          null,
    THIA_mg             smallint                          null,
    RIBF_mg             smallint                          null,
    VITB6_mg            smallint                          null,
    VITB12_mug          smallint                          null,
    NIA_mg              smallint                          null,
    FOL_mug             smallint                          null,
    FOLFD_mug           smallint                          null,
    FOLAC_mug           smallint                          null,
    VITC_mg             smallint                          null,

    FOREIGN KEY (product_nutrient_id) REFERENCES product_nutrient (id),
    FOREIGN KEY (nutrient_id) REFERENCES nutrient (id)
);

DROP TABLE IF EXISTS product_source;
CREATE TABLE IF NOT EXISTS product_source (
    id int(10) PRIMARY KEY AUTO_INCREMENT NOT NULL,
    product_nutrient_id int(10),
    group_code int(3) NOT NULL,
    ENERCJ_kJ           varchar(25)                          null,
    ENERCC_kcal         varchar(25)                          null,
    PROT_g              varchar(25)                          null,
    PROTPL_g            varchar(25)                          null,
    PROTAN_g            varchar(25)                          null,
    NT_g                varchar(25)                          null,
    CHO_g               varchar(25)                          null,
    SUGAR_g             varchar(25)                          null,
    STARCH_g            varchar(25)                          null,
    POLYL_g             varchar(25)                          null,
    FIBT_g              varchar(25)                          null,
    ALC_g               varchar(25)                          null,
    WATER_g             varchar(25)                          null,
    OA_g                varchar(25)                          null,
    FAT_g               varchar(25)                          null,
    FACID_g             varchar(25)                          null,
    FASAT_g             varchar(25)                          null,
    FAMSCIS_g           varchar(25)                          null,
    FAPU_g              varchar(25)                          null,
    FAPUN3_g            varchar(25)                          null,
    FAPUN6_g            varchar(25)                          null,
    FATRS_g             varchar(25)                          null,
    F4_0_g              varchar(25)                          null,
    F6_0_g              varchar(25)                          null,
    F8_0_g              varchar(25)                          null,
    F10_0_g             varchar(25)                          null,
    F11_0_g             varchar(25)                          null,
    F12_0_g             varchar(25)                          null,
    F13_0_g             varchar(25)                          null,
    F14_0_g             varchar(25)                          null,
    F15_0_g             varchar(25)                          null,
    F16_0_g             varchar(25)                          null,
    F17_0_g             varchar(25)                          null,
    F18_0_g             varchar(25)                          null,
    F19_0_g             varchar(25)                          null,
    F20_0_g             varchar(25)                          null,
    F21_0_g             varchar(25)                          null,
    F22_0_g             varchar(25)                          null,
    F23_0_g             varchar(25)                          null,
    F24_0_g             varchar(25)                          null,
    F25_0_g             varchar(25)                          null,
    F26_0_g             varchar(25)                          null,
    FASATXR_g           varchar(25)                          null,
    F10_1CIS_g          varchar(25)                          null,
    F12_1CIS_g          varchar(25)                          null,
    F14_1CIS_g          varchar(25)                          null,
    F16_1CIS_g          varchar(25)                          null,
    F18_1CIS_g          varchar(25)                          null,
    F20_1CIS_g          varchar(25)                          null,
    F22_1CIS_g          varchar(25)                          null,
    F24_1CIS_g          varchar(25)                          null,
    FAMSCXR_g           varchar(25)                          null,
    F18_2CN6_g          varchar(25)                          null,
    F18_2CN9_g          varchar(25)                          null,
    F18_2CT_g           varchar(25)                          null,
    F18_2TC_g           varchar(25)                          null,
    F18_2R_g            varchar(25)                          null,
    F18_3CN3_g          varchar(25)                          null,
    F18_3CN6_g          varchar(25)                          null,
    F18_4CN3_g          varchar(25)                          null,
    F20_2CN6_g          varchar(25)                          null,
    F20_3CN9_g          varchar(25)                          null,
    F20_3CN6_g          varchar(25)                          null,
    F20_3CN3_g          varchar(25)                          null,
    F20_4CN6_g          varchar(25)                          null,
    F20_4CN3_g          varchar(25)                          null,
    F20_5CN3_g          varchar(25)                          null,
    F21_5CN3_g          varchar(25)                          null,
    F22_2CN6_g          varchar(25)                          null,
    F22_2CN3_g          varchar(25)                          null,
    F22_3CN3_g          varchar(25)                          null,
    F22_4CN6_g          varchar(25)                          null,
    F22_5CN6_g          varchar(25)                          null,
    F22_5CN3_g          varchar(25)                          null,
    F22_6CN3_g          varchar(25)                          null,
    F24_2CN6_g          varchar(25)                          null,
    FAPUXR_g            varchar(25)                          null,
    F10_1TRS_g          varchar(25)                          null,
    F12_1TRS_g          varchar(25)                          null,
    F14_1TRS_g          varchar(25)                          null,
    F16_1TRS_g          varchar(25)                          null,
    F18_1TRS_g          varchar(25)                          null,
    F18_2TTN6_g         varchar(25)                          null,
    F18_3TTTN3_g        varchar(25)                          null,
    F20_1TRS_g          varchar(25)                          null,
    F20_2TT_g           varchar(25)                          null,
    F22_1TRS_g          varchar(25)                          null,
    F24_1TRS_g          varchar(25)                          null,
    FAMSTXR_g           varchar(25)                          null,
    FAUN_g              varchar(25)                          null,
    CHORL_mg            varchar(25)                          null,
    NA_mg               varchar(25)                          null,
    K_mg                varchar(25)                          null,
    CA_mg               varchar(25)                          null,
    P_mg                varchar(25)                          null,
    MG_mg               varchar(25)                          null,
    FE_mg               varchar(25)                          null,
    HAEM_mg             varchar(25)                          null,
    NHAEM_mg            varchar(25)                          null,
    CU_mg               varchar(25)                          null,
    SE_mug              varchar(25)                          null,
    ZN_mg               varchar(25)                          null,
    ID_mug              varchar(25)                          null,
    ASH_g               varchar(25)                          null,
    VITA_RAE_mug        varchar(25)                          null,
    VITA_RE_mug         varchar(25)                          null,
    RETOL_mug           varchar(25)                          null,
    CARTBTOT_mug        varchar(25)                          null,
    CARTA_mug           varchar(25)                          null,
    LUTN_mug            varchar(25)                          null,
    ZEA_mug             varchar(25)                          null,
    CRYPXB_mug          varchar(25)                          null,
    LYCPN_mug           varchar(25)                          null,
    VITD_mug            varchar(25)                          null,
    CHOCALOH_mug        varchar(25)                          null,
    CHOCAL_mug          varchar(25)                          null,
    VITE_mg             varchar(25)                          null,
    TOCPHA_mg           varchar(25)                          null,
    TOCPHB_mg           varchar(25)                          null,
    TOCPHG_mg           varchar(25)                          null,
    TOCPHD_mg           varchar(25)                          null,
    VITK_mug            varchar(25)                          null,
    VITK1_mug           varchar(25)                          null,
    VITK2_mug           varchar(25)                          null,
    THIA_mg             varchar(25)                          null,
    RIBF_mg             varchar(25)                          null,
    VITB6_mg            varchar(25)                          null,
    VITB12_mug          varchar(25)                          null,
    NIA_mg              varchar(25)                          null,
    FOL_mug             varchar(25)                          null,
    FOLFD_mug           varchar(25)                          null,
    FOLAC_mug           varchar(25)                          null,
    VITC_mg             varchar(25)                          null,

    FOREIGN KEY (product_nutrient_id) REFERENCES product_nutrient(id)

)



